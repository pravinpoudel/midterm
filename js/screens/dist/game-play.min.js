"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var GamePlay=function(){function n(e,t){_classCallCheck(this,n),this.myKeyboard=t,this.lastTimeStamp,this.manager=e,this.meter=null,this.marker=null,this.initialize=this.initialize.bind(this),this.run=this.run.bind(this),this.checkHandler=this.checkHandler.bind(this)}return _createClass(n,[{key:"initialize",value:function(){var e=this;e.myKeyboard.register("Escape",function(){GameState.cancelNextRequest=!0,e.manager.showScreen("mainmenu")}),this.meter=new Meter,this.marker=new Marker}},{key:"processInput",value:function(e){this.myKeyboard.update(e)}},{key:"update",value:function(e){this.marker.update(e)}},{key:"renderScore",value:function(){document.getElementById("currentScore").innerHTML=score}},{key:"render",value:function(){context.clearRect(0,0,canvas.width,canvas.height),this.meter.render(),this.marker.render(),this.renderScore()}},{key:"checkHandler",value:function(){this.meter.checkMarker(this.marker)&&(this.marker=new Marker)}},{key:"run",value:function(){var n=this,r=performance.now();GameState.cancelNextRequest=!1,this.myKeyboard.register(" ",this.checkHandler),requestAnimationFrame(function e(t){n.processInput(t-r),n.update(t-r),r=t,n.render(),GameState.cancelNextRequest?(context.font="70px roboto",context.textAlign="center",context.fillText("Game Over",canvas.width/2,.8*canvas.height)):requestAnimationFrame(e)})}}]),n}();
//# sourceMappingURL=game-play.min.js.map
